<!DOCTYPE html>
<html>

<head>
	<!-- Basic -->
	<meta charset="utf-8" />
	<meta http-equiv="X-UA-Compatible" content="IE=edge" />
	<!-- Mobile Metas -->
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
	<!-- Site Metas -->
	<meta name="keywords" content="" />
	<meta name="description" content="" />
	<meta name="author" content="" />

	<title>My Curriculum</title>

	<!-- slider stylesheet -->
	
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
	<!-- fonts style -->
	<link href="https://fonts.googleapis.com/css?family=Dosis:400,500|Poppins:400,700&display=swap" rel="stylesheet">
	<!-- Custom styles for this template -->
	<link href="css/style.css" rel="stylesheet" />
	<link href="css/southpark.css" rel="stylesheet" />
</head>

<body>
	<!-- header section -->
	<header>
		<div class="logo">
			<a href="index.html"><img src="img/logo.png" alt="South Park Logo"></a>
		  <nav>
			  <ul>
				  <li><a class="nav-link" href="form.php">Upload</a></li>
				  <li><a class="nav-link" href="aboutme.html">About me</a></li>
				  <li><a class="nav-link" href="formation.html">How it works</a></li>
			  </ul>
		  </nav>
	  </div>
	</header>
	<!-- header section -->

	<!-- service section -->
	<section class="formation-container">
		<div class="main-formation">
			<div class="image-main">
				<div class="formation-one formation-content active">
					<h1>I. Parsing et lancement de webserv</h1>
					<ul>
						<li>Parcourir le fichier et parser les configurations dans l'objet "<i>Server</i>"</li>
						<li>Attribuer un socket au server, grâce à : <strong>socket(addrinfo *)</strong></li>
						<li>Lier le socket à une adresse réseau avec : <strong>bind(socket, addrinfo *)</strong></li>
						<li>Création d'une instance d'epoll, gestionnaire de connexion : <strong>epoll_create(MAX_EVENTS);</strong></li>
						<li>Ajout du socket au gestionnaire : <strong>epoll_ctl(epoll_fd, EPOLL_CTL_ADD, socket, &event);</strong></li>
						<li><strong>epoll()</strong> permet de surveiller plusieurs descripteurs de fichiers (<b>sockets</b>) en parallèle</li>
						<li><strong>epoll_wait()</strong> permet de récupérer les sockets qui ont des données à lire</li>
					</ul>
				</div>
				<div class="formation-two formation-content">
					<h1>II. Gestion des requêtes HTTP : parsing et CGI</h1>
					<ul>
						<li>Accepter les connexions entrantes, créez un socket dédiée pour chaque client connecté</li>
						<li>Lecture puis parsing de la requête : méthode, URI (chemin du fichier), en-têtes et body</li>
						<li>Traitement de la requête : renvoyer une page d'erreur si la requête n'est pas conforme</li>
						<li>Détéction du CGI : balise php dans le code html, ou script php à executer</li>
						<li style="list-style: none;">
							<ul class="sous-categorie">
								<li>il faut configurer des variables d'environnement pour lancer le programme CGI</li>
								<li>le comportement diffère selon la méthode de la requête</li>
								<li>Exécution du CGI : création d'un processus fils, redirection des entrées/sorties</li>
							</ul>
						</li>
						<li>Envoi de la réponse : <strong>[GET]</strong> envoi du fichier requis <strong>[POST]</strong> modification des données</li>
					</ul>
				</div>
				<div class="formation-three formation-content">
					<h1>III. Boucle de gestion des requêtes</h1>
					<ul>
						<li>Création de l'objet "<i>Client</i>" si le socket n'est associé à aucun existant</li>
						<li>Gestion des requêtes : accepter les connexions, traiter les requêtes et y répondre</li>
						<li>Arrêt du serveur : implémentation de la fonction <strong>exitServer()</strong>, arrêtant le serveur proprement <br>lorsqu'un signal de terminaison est détécté</li>
					</ul>
				</div>
				<img src="images/main.png" alt="" class="web-page">
			</div>
			<div class="image-sub">
				<button class="prev-formation hidden"></button>
				<div class="formation-content sub-part">
					<h1>Duration : From June 2021 until now</h1>
				</div>
				<button class="next-formation"></button>
				<img src="images/sub.png" alt="" class="web-page">
			</div>
		</div>
	</section>
	<!-- service section -->

  <!-- footer section -->
  <section class="footer_section">
	<?php
		$SERVER_NAME = $_SERVER['SERVER_NAME'];
		$MESSAGE = "You are actually on the server : <strong>";
		if ($SERVER_NAME)
		$MESSAGE .= "<span style='color: blue;'>$SERVER_NAME</span></strong></p>";
		else
			$MESSAGE .= "42.fr</strong></p>";
		echo "$MESSAGE";
	?>
    <p>&copy; 2023 - All Rights Reserved By mtsuji & ahocine.</p>
  </section>
  <!-- footer section -->

  <script type="text/javascript" src="js/formation.js"></script>
</body>

</html>